{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\opeye\\\\OneDrive\\\\Desktop\\\\MusicConnect-Site\\\\src\\\\components\\\\Feed.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { LogOut, Search, Users, Video, Search as SearchIcon, Calendar, Clock, MapPin } from 'lucide-react';\nimport { supabase } from '../utils/supabase';\nimport { Button } from './ui/button';\nimport { Badge } from './ui/badge';\nimport { Skeleton } from './ui/skeleton';\nimport { Avatar } from './ui/avatar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Feed({\n  currentUser,\n  onSignOut\n}) {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedFilter, setSelectedFilter] = useState('all');\n\n  // Fetch posts from Supabase when component mounts\n  useEffect(() => {\n    fetchPosts();\n\n    // Set up real-time listener for new posts\n    const postsSubscription = supabase.channel('public:posts').on('postgres_changes', {\n      event: '*',\n      schema: 'public',\n      table: 'posts'\n    }, payload => {\n      if (payload.eventType === 'INSERT') {\n        fetchPostDetails(payload.new.id).then(post => {\n          if (post) setPosts(current => [post, ...current]);\n        });\n      } else if (payload.eventType === 'UPDATE') {\n        fetchPostDetails(payload.new.id).then(updatedPost => {\n          if (updatedPost) {\n            setPosts(current => current.map(post => post.id === updatedPost.id ? updatedPost : post));\n          }\n        });\n      } else if (payload.eventType === 'DELETE') {\n        setPosts(current => current.filter(post => post.id !== payload.old.id));\n      }\n    }).subscribe();\n\n    // Clean up subscription on unmount\n    return () => {\n      supabase.removeChannel(postsSubscription);\n    };\n  }, []);\n\n  // Function to fetch posts from Supabase\n  const fetchPosts = async () => {\n    setIsLoading(true);\n    try {\n      // Fetch posts with musician data\n      const {\n        data,\n        error\n      } = await supabase.from('posts').select(`\n          *,\n          musician:user_id (\n            id, name, username, avatar, location, experience, instruments\n          ),\n          likes:post_likes (count),\n          comments:post_comments (count)\n        `).order('created_at', {\n        ascending: false\n      });\n      if (error) throw error;\n\n      // Format the data to match our Post interface\n      const formattedPosts = data.map(post => {\n        var _post$likes$, _post$comments$;\n        return {\n          id: post.id,\n          musician: {\n            id: post.musician.id,\n            name: post.musician.name,\n            username: post.musician.username,\n            avatar: post.musician.avatar,\n            instruments: post.musician.instruments || [],\n            experience: post.musician.experience,\n            location: post.musician.location,\n            isAvailable: true,\n            // Default\n            bio: '',\n            // Not needed for feed\n            genres: [],\n            // Not needed for feed\n            followers: 0,\n            // Not needed for feed\n            following: 0,\n            // Not needed for feed\n            projects: 0 // Not needed for feed\n          },\n          content: post.content,\n          type: post.type,\n          media: post.media,\n          tags: post.tags || [],\n          likes: ((_post$likes$ = post.likes[0]) === null || _post$likes$ === void 0 ? void 0 : _post$likes$.count) || 0,\n          comments: ((_post$comments$ = post.comments[0]) === null || _post$comments$ === void 0 ? void 0 : _post$comments$.count) || 0,\n          timestamp: new Date(post.created_at).toLocaleDateString(),\n          isLiked: false // Will be updated separately\n        };\n      });\n\n      // Check which posts the current user has liked\n      await checkUserLikes(formattedPosts);\n      setPosts(formattedPosts);\n    } catch (error) {\n      console.error('Error fetching posts:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Function to fetch a single post after real-time update\n  const fetchPostDetails = async postId => {\n    try {\n      var _data$likes$, _data$comments$;\n      const {\n        data,\n        error\n      } = await supabase.from('posts').select(`\n          *,\n          musician:user_id (\n            id, name, username, avatar, location, experience, instruments\n          ),\n          likes:post_likes (count),\n          comments:post_comments (count)\n        `).eq('id', postId).single();\n      if (error) throw error;\n\n      // Format the post\n      const formattedPost = {\n        id: data.id,\n        musician: {\n          id: data.musician.id,\n          name: data.musician.name,\n          username: data.musician.username,\n          avatar: data.musician.avatar,\n          instruments: data.musician.instruments || [],\n          experience: data.musician.experience,\n          location: data.musician.location,\n          isAvailable: true,\n          bio: '',\n          genres: [],\n          followers: 0,\n          following: 0,\n          projects: 0\n        },\n        content: data.content,\n        type: data.type,\n        media: data.media,\n        tags: data.tags || [],\n        likes: ((_data$likes$ = data.likes[0]) === null || _data$likes$ === void 0 ? void 0 : _data$likes$.count) || 0,\n        comments: ((_data$comments$ = data.comments[0]) === null || _data$comments$ === void 0 ? void 0 : _data$comments$.count) || 0,\n        timestamp: new Date(data.created_at).toLocaleDateString(),\n        isLiked: false\n      };\n\n      // Check if user has liked this post\n      const {\n        data: likeData\n      } = await supabase.from('post_likes').select().eq('post_id', postId).eq('user_id', currentUser.id);\n      formattedPost.isLiked = !!(likeData !== null && likeData !== void 0 && likeData.length);\n      return formattedPost;\n    } catch (error) {\n      console.error('Error fetching post details:', error);\n      return null;\n    }\n  };\n\n  // Check which posts the current user has liked\n  const checkUserLikes = async postsToCheck => {\n    try {\n      const {\n        data\n      } = await supabase.from('post_likes').select('post_id').eq('user_id', currentUser.id);\n      if (data) {\n        const likedPostIds = new Set(data.map(like => like.post_id));\n        postsToCheck.forEach(post => {\n          post.isLiked = likedPostIds.has(post.id);\n        });\n      }\n    } catch (error) {\n      console.error('Error checking user likes:', error);\n    }\n  };\n\n  // Toggle like on a post\n  const handleLike = async postId => {\n    const post = posts.find(p => p.id === postId);\n    if (!post) return;\n    const newIsLiked = !post.isLiked;\n\n    // Optimistic update\n    setPosts(current => current.map(p => p.id === postId ? {\n      ...p,\n      isLiked: newIsLiked,\n      likes: p.likes + (newIsLiked ? 1 : -1)\n    } : p));\n    try {\n      if (newIsLiked) {\n        // Add like\n        await supabase.from('post_likes').insert({\n          post_id: postId,\n          user_id: currentUser.id\n        });\n      } else {\n        // Remove like\n        await supabase.from('post_likes').delete().eq('post_id', postId).eq('user_id', currentUser.id);\n      }\n    } catch (error) {\n      console.error('Error toggling like:', error);\n\n      // Revert optimistic update on error\n      setPosts(current => current.map(p => p.id === postId ? {\n        ...p,\n        isLiked: !newIsLiked,\n        likes: p.likes + (newIsLiked ? -1 : 1)\n      } : p));\n    }\n  };\n\n  // Filter posts by type\n  const filteredPosts = posts.filter(post => {\n    return selectedFilter === 'all' || post.type === selectedFilter;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto px-4 pb-16\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"py-4 flex justify-between items-center border-b border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-800\",\n        children: \"MusicConnect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onSignOut,\n        className: \"flex items-center gap-2 py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(LogOut, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), \" Sign Out\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-900\",\n        children: \"Feed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Discover what's happening in the music community\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(Avatar, {\n        className: \"h-16 w-16 border-2 border-white shadow-md\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: currentUser.avatar,\n          alt: currentUser.name,\n          className: \"object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n        children: /*#__PURE__*/_jsxDEV(Search, {\n          className: \"h-5 w-5 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search posts, musicians, or tags...\",\n        className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex border-b border-gray-200 mt-6 overflow-x-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedFilter('all'),\n        className: `px-4 py-2 font-medium text-sm ${selectedFilter === 'all' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`,\n        children: \"All Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedFilter('collaboration'),\n        className: `px-4 py-2 font-medium text-sm flex items-center ${selectedFilter === 'collaboration' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`,\n        children: [/*#__PURE__*/_jsxDEV(Users, {\n          className: \"w-4 h-4 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), \" Collaborations\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedFilter('showcase'),\n        className: `px-4 py-2 font-medium text-sm flex items-center ${selectedFilter === 'showcase' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`,\n        children: [/*#__PURE__*/_jsxDEV(Video, {\n          className: \"w-4 h-4 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), \" Showcases\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedFilter('looking-for'),\n        className: `px-4 py-2 font-medium text-sm flex items-center ${selectedFilter === 'looking-for' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`,\n        children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n          className: \"w-4 h-4 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), \" Looking For\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedFilter('jam-session'),\n        className: `px-4 py-2 font-medium text-sm flex items-center ${selectedFilter === 'jam-session' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`,\n        children: [/*#__PURE__*/_jsxDEV(Calendar, {\n          className: \"w-4 h-4 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), \" Jam Sessions\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4 mt-6\",\n      children: [1, 2, 3].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border border-gray-200 rounded-md p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n            className: \"h-12 w-12 rounded-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n              className: \"h-4 w-1/4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              className: \"h-3 w-1/3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              className: \"h-24 w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 15\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }, this) : filteredPosts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-16 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-blue-600 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(Users, {\n          className: \"h-6 w-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900\",\n        children: \"No posts yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-gray-500\",\n        children: selectedFilter === 'all' ? 'Be the first to post and connect with other musicians!' : `No ${selectedFilter} posts available. Create one to get started!`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {/* Navigate to create post */},\n          className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",\n          children: \"Create a Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 space-y-6\",\n      children: filteredPosts.map(post => /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"border border-gray-200 rounded-lg overflow-hidden bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b border-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: post.musician.avatar,\n              alt: \"\",\n              className: \"w-12 h-12 rounded-full object-cover mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold text-gray-900\",\n                    children: post.musician.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: [\"@\", post.musician.username]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: \"secondary\",\n                  className: \"bg-blue-100 text-blue-800 font-normal\",\n                  children: post.musician.experience\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1 mt-1 text-xs text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: post.musician.location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mx-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Clock, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: post.timestamp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-800 whitespace-pre-line\",\n            children: post.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 17\n          }, this), post.media && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 rounded-md overflow-hidden\",\n            children: post.media.type === 'image' ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: post.media.url,\n              alt: \"\",\n              className: \"w-full h-auto object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 23\n            }, this) : post.media.type === 'video' ? /*#__PURE__*/_jsxDEV(\"video\", {\n              src: post.media.url,\n              controls: true,\n              className: \"w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 23\n            }, this) : post.media.type === 'audio' ? /*#__PURE__*/_jsxDEV(\"audio\", {\n              src: post.media.url,\n              controls: true,\n              className: \"w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 23\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-1 mt-3\",\n            children: [post.musician.instruments.map(instrument => /*#__PURE__*/_jsxDEV(Badge, {\n              variant: \"outline\",\n              className: \"bg-gray-50\",\n              children: instrument\n            }, instrument, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 21\n            }, this)), post.tags.map(tag => /*#__PURE__*/_jsxDEV(Badge, {\n              variant: \"outline\",\n              className: \"text-blue-600 bg-blue-50 border-blue-200\",\n              children: [\"#\", tag]\n            }, tag, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 pt-3 border-t border-gray-100 flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleLike(post.id),\n                className: \"flex items-center gap-1 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: post.isLiked ? \"currentColor\" : \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  className: post.isLiked ? \"text-red-500\" : \"text-gray-600\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: post.isLiked ? \"text-red-500\" : \"text-gray-600\",\n                  children: post.likes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"flex items-center gap-1 text-gray-600 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: post.comments\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 19\n            }, this), post.type === 'collaboration' && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              size: \"sm\",\n              children: \"Join Project\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 15\n        }, this)]\n      }, post.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 5\n  }, this);\n}\n_s(Feed, \"h0zbwu+yvB6JLGky8wjRBpmuXbI=\");\n_c = Feed;\nvar _c;\n$RefreshReg$(_c, \"Feed\");","map":{"version":3,"names":["useState","useEffect","LogOut","Search","Users","Video","SearchIcon","Calendar","Clock","MapPin","supabase","Button","Badge","Skeleton","Avatar","jsxDEV","_jsxDEV","Feed","currentUser","onSignOut","_s","posts","setPosts","isLoading","setIsLoading","selectedFilter","setSelectedFilter","fetchPosts","postsSubscription","channel","on","event","schema","table","payload","eventType","fetchPostDetails","new","id","then","post","current","updatedPost","map","filter","old","subscribe","removeChannel","data","error","from","select","order","ascending","formattedPosts","_post$likes$","_post$comments$","musician","name","username","avatar","instruments","experience","location","isAvailable","bio","genres","followers","following","projects","content","type","media","tags","likes","count","comments","timestamp","Date","created_at","toLocaleDateString","isLiked","checkUserLikes","console","postId","_data$likes$","_data$comments$","eq","single","formattedPost","likeData","length","postsToCheck","likedPostIds","Set","like","post_id","forEach","has","handleLike","find","p","newIsLiked","insert","user_id","delete","filteredPosts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","src","alt","placeholder","i","variant","url","controls","instrument","tag","xmlns","width","height","viewBox","fill","stroke","strokeWidth","d","strokeLinecap","strokeLinejoin","_c","$RefreshReg$"],"sources":["C:/Users/opeye/OneDrive/Desktop/MusicConnect-Site/src/components/Feed.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { LogOut, Search, Users, Video, Search as SearchIcon, Calendar, Clock, MapPin } from 'lucide-react';\r\nimport { supabase } from '../utils/supabase';\r\nimport { Button } from './ui/button';\r\nimport { Badge } from './ui/badge';\r\nimport { Skeleton } from './ui/skeleton';\r\nimport { Avatar } from './ui/avatar';\r\nimport { EmptyState } from './EmptyState';\r\n\r\ninterface Musician {\r\n  id: string;\r\n  name: string;\r\n  username: string;\r\n  bio: string;\r\n  avatar: string;\r\n  instruments: string[];\r\n  genres: string[];\r\n  experience: 'Beginner' | 'Intermediate' | 'Advanced' | 'Professional';\r\n  location: string;\r\n  isAvailable: boolean;\r\n  followers: number;\r\n  following: number;\r\n  projects: number;\r\n}\r\n\r\ninterface Post {\r\n  id: string;\r\n  musician: Musician;\r\n  content: string;\r\n  type: 'collaboration' | 'showcase' | 'looking-for' | 'jam-session';\r\n  media?: {\r\n    type: 'audio' | 'video' | 'image';\r\n    url: string;\r\n    duration?: string;\r\n  };\r\n  tags: string[];\r\n  likes: number;\r\n  comments: number;\r\n  timestamp: string;\r\n  isLiked: boolean;\r\n}\r\n\r\ninterface FeedProps {\r\n  currentUser: Musician;\r\n  onSignOut?: () => void;\r\n}\r\n\r\nexport function Feed({ currentUser, onSignOut }: FeedProps) {\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedFilter, setSelectedFilter] = useState('all');\r\n  \r\n  // Fetch posts from Supabase when component mounts\r\n  useEffect(() => {\r\n    fetchPosts();\r\n    \r\n    // Set up real-time listener for new posts\r\n    const postsSubscription = supabase\r\n      .channel('public:posts')\r\n      .on('postgres_changes', \r\n        { event: '*', schema: 'public', table: 'posts' }, \r\n        payload => {\r\n          if (payload.eventType === 'INSERT') {\r\n            fetchPostDetails(payload.new.id).then(post => {\r\n              if (post) setPosts(current => [post, ...current]);\r\n            });\r\n          } else if (payload.eventType === 'UPDATE') {\r\n            fetchPostDetails(payload.new.id).then(updatedPost => {\r\n              if (updatedPost) {\r\n                setPosts(current => current.map(post => \r\n                  post.id === updatedPost.id ? updatedPost : post\r\n                ));\r\n              }\r\n            });\r\n          } else if (payload.eventType === 'DELETE') {\r\n            setPosts(current => current.filter(post => post.id !== payload.old.id));\r\n          }\r\n        }\r\n      )\r\n      .subscribe();\r\n      \r\n    // Clean up subscription on unmount\r\n    return () => {\r\n      supabase.removeChannel(postsSubscription);\r\n    };\r\n  }, []);\r\n  \r\n  // Function to fetch posts from Supabase\r\n  const fetchPosts = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Fetch posts with musician data\r\n      const { data, error } = await supabase\r\n        .from('posts')\r\n        .select(`\r\n          *,\r\n          musician:user_id (\r\n            id, name, username, avatar, location, experience, instruments\r\n          ),\r\n          likes:post_likes (count),\r\n          comments:post_comments (count)\r\n        `)\r\n        .order('created_at', { ascending: false });\r\n        \r\n      if (error) throw error;\r\n      \r\n      // Format the data to match our Post interface\r\n      const formattedPosts: Post[] = data.map(post => ({\r\n        id: post.id,\r\n        musician: {\r\n          id: post.musician.id,\r\n          name: post.musician.name,\r\n          username: post.musician.username,\r\n          avatar: post.musician.avatar,\r\n          instruments: post.musician.instruments || [],\r\n          experience: post.musician.experience,\r\n          location: post.musician.location,\r\n          isAvailable: true, // Default\r\n          bio: '', // Not needed for feed\r\n          genres: [], // Not needed for feed\r\n          followers: 0, // Not needed for feed\r\n          following: 0, // Not needed for feed\r\n          projects: 0 // Not needed for feed\r\n        },\r\n        content: post.content,\r\n        type: post.type,\r\n        media: post.media,\r\n        tags: post.tags || [],\r\n        likes: post.likes[0]?.count || 0,\r\n        comments: post.comments[0]?.count || 0,\r\n        timestamp: new Date(post.created_at).toLocaleDateString(),\r\n        isLiked: false // Will be updated separately\r\n      }));\r\n      \r\n      // Check which posts the current user has liked\r\n      await checkUserLikes(formattedPosts);\r\n      \r\n      setPosts(formattedPosts);\r\n    } catch (error) {\r\n      console.error('Error fetching posts:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Function to fetch a single post after real-time update\r\n  const fetchPostDetails = async (postId: string): Promise<Post | null> => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('posts')\r\n        .select(`\r\n          *,\r\n          musician:user_id (\r\n            id, name, username, avatar, location, experience, instruments\r\n          ),\r\n          likes:post_likes (count),\r\n          comments:post_comments (count)\r\n        `)\r\n        .eq('id', postId)\r\n        .single();\r\n        \r\n      if (error) throw error;\r\n      \r\n      // Format the post\r\n      const formattedPost: Post = {\r\n        id: data.id,\r\n        musician: {\r\n          id: data.musician.id,\r\n          name: data.musician.name,\r\n          username: data.musician.username,\r\n          avatar: data.musician.avatar,\r\n          instruments: data.musician.instruments || [],\r\n          experience: data.musician.experience,\r\n          location: data.musician.location,\r\n          isAvailable: true,\r\n          bio: '',\r\n          genres: [],\r\n          followers: 0,\r\n          following: 0,\r\n          projects: 0\r\n        },\r\n        content: data.content,\r\n        type: data.type,\r\n        media: data.media,\r\n        tags: data.tags || [],\r\n        likes: data.likes[0]?.count || 0,\r\n        comments: data.comments[0]?.count || 0,\r\n        timestamp: new Date(data.created_at).toLocaleDateString(),\r\n        isLiked: false\r\n      };\r\n      \r\n      // Check if user has liked this post\r\n      const { data: likeData } = await supabase\r\n        .from('post_likes')\r\n        .select()\r\n        .eq('post_id', postId)\r\n        .eq('user_id', currentUser.id);\r\n        \r\n      formattedPost.isLiked = !!likeData?.length;\r\n      \r\n      return formattedPost;\r\n    } catch (error) {\r\n      console.error('Error fetching post details:', error);\r\n      return null;\r\n    }\r\n  };\r\n  \r\n  // Check which posts the current user has liked\r\n  const checkUserLikes = async (postsToCheck: Post[]) => {\r\n    try {\r\n      const { data } = await supabase\r\n        .from('post_likes')\r\n        .select('post_id')\r\n        .eq('user_id', currentUser.id);\r\n        \r\n      if (data) {\r\n        const likedPostIds = new Set(data.map(like => like.post_id));\r\n        postsToCheck.forEach(post => {\r\n          post.isLiked = likedPostIds.has(post.id);\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking user likes:', error);\r\n    }\r\n  };\r\n  \r\n  // Toggle like on a post\r\n  const handleLike = async (postId: string) => {\r\n    const post = posts.find(p => p.id === postId);\r\n    if (!post) return;\r\n    \r\n    const newIsLiked = !post.isLiked;\r\n    \r\n    // Optimistic update\r\n    setPosts(current => \r\n      current.map(p => p.id === postId ? \r\n        { ...p, isLiked: newIsLiked, likes: p.likes + (newIsLiked ? 1 : -1) } : \r\n        p\r\n      )\r\n    );\r\n    \r\n    try {\r\n      if (newIsLiked) {\r\n        // Add like\r\n        await supabase\r\n          .from('post_likes')\r\n          .insert({ post_id: postId, user_id: currentUser.id });\r\n      } else {\r\n        // Remove like\r\n        await supabase\r\n          .from('post_likes')\r\n          .delete()\r\n          .eq('post_id', postId)\r\n          .eq('user_id', currentUser.id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error toggling like:', error);\r\n      \r\n      // Revert optimistic update on error\r\n      setPosts(current => \r\n        current.map(p => p.id === postId ? \r\n          { ...p, isLiked: !newIsLiked, likes: p.likes + (newIsLiked ? -1 : 1) } : \r\n          p\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  // Filter posts by type\r\n  const filteredPosts = posts.filter(post => {\r\n    return selectedFilter === 'all' || post.type === selectedFilter;\r\n  });\r\n  \r\n  return (\r\n    <div className=\"max-w-2xl mx-auto px-4 pb-16\">\r\n      {/* Header */}\r\n      <header className=\"py-4 flex justify-between items-center border-b border-gray-200\">\r\n        <h1 className=\"text-2xl font-bold text-gray-800\">MusicConnect</h1>\r\n        <button \r\n          onClick={onSignOut}\r\n          className=\"flex items-center gap-2 py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\r\n        >\r\n          <LogOut size={16} /> Sign Out\r\n        </button>\r\n      </header>\r\n      \r\n      {/* Feed Title */}\r\n      <div className=\"mt-8\">\r\n        <h2 className=\"text-3xl font-bold text-gray-900\">Feed</h2>\r\n        <p className=\"text-gray-600\">Discover what's happening in the music community</p>\r\n      </div>\r\n      \r\n      {/* User Avatar */}\r\n      <div className=\"mt-4\">\r\n        <Avatar className=\"h-16 w-16 border-2 border-white shadow-md\">\r\n          <img \r\n            src={currentUser.avatar} \r\n            alt={currentUser.name} \r\n            className=\"object-cover\"\r\n          />\r\n        </Avatar>\r\n      </div>\r\n      \r\n      {/* Search */}\r\n      <div className=\"relative mt-6\">\r\n        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n          <Search className=\"h-5 w-5 text-gray-400\" />\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search posts, musicians, or tags...\"\r\n          className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n        />\r\n      </div>\r\n      \r\n      {/* Filter Tabs */}\r\n      <div className=\"flex border-b border-gray-200 mt-6 overflow-x-auto\">\r\n        <button\r\n          onClick={() => setSelectedFilter('all')}\r\n          className={`px-4 py-2 font-medium text-sm ${\r\n            selectedFilter === 'all' \r\n              ? 'text-blue-600 border-b-2 border-blue-600' \r\n              : 'text-gray-500 hover:text-gray-700'\r\n          }`}\r\n        >\r\n          All Posts\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => setSelectedFilter('collaboration')}\r\n          className={`px-4 py-2 font-medium text-sm flex items-center ${\r\n            selectedFilter === 'collaboration' \r\n              ? 'text-blue-600 border-b-2 border-blue-600' \r\n              : 'text-gray-500 hover:text-gray-700'\r\n          }`}\r\n        >\r\n          <Users className=\"w-4 h-4 mr-1\" /> Collaborations\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => setSelectedFilter('showcase')}\r\n          className={`px-4 py-2 font-medium text-sm flex items-center ${\r\n            selectedFilter === 'showcase' \r\n              ? 'text-blue-600 border-b-2 border-blue-600' \r\n              : 'text-gray-500 hover:text-gray-700'\r\n          }`}\r\n        >\r\n          <Video className=\"w-4 h-4 mr-1\" /> Showcases\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => setSelectedFilter('looking-for')}\r\n          className={`px-4 py-2 font-medium text-sm flex items-center ${\r\n            selectedFilter === 'looking-for' \r\n              ? 'text-blue-600 border-b-2 border-blue-600' \r\n              : 'text-gray-500 hover:text-gray-700'\r\n          }`}\r\n        >\r\n          <SearchIcon className=\"w-4 h-4 mr-1\" /> Looking For\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => setSelectedFilter('jam-session')}\r\n          className={`px-4 py-2 font-medium text-sm flex items-center ${\r\n            selectedFilter === 'jam-session' \r\n              ? 'text-blue-600 border-b-2 border-blue-600' \r\n              : 'text-gray-500 hover:text-gray-700'\r\n          }`}\r\n        >\r\n          <Calendar className=\"w-4 h-4 mr-1\" /> Jam Sessions\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Empty state or loading state */}\r\n      {isLoading ? (\r\n        <div className=\"space-y-4 mt-6\">\r\n          {[1, 2, 3].map(i => (\r\n            <div key={i} className=\"border border-gray-200 rounded-md p-4\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <Skeleton className=\"h-12 w-12 rounded-full\" />\r\n                <div className=\"space-y-2 flex-1\">\r\n                  <Skeleton className=\"h-4 w-1/4\" />\r\n                  <Skeleton className=\"h-3 w-1/3\" />\r\n                  <Skeleton className=\"h-24 w-full\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : filteredPosts.length === 0 ? (\r\n        <div className=\"mt-16 text-center\">\r\n          <div className=\"inline-flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-blue-600 mb-4\">\r\n            <Users className=\"h-6 w-6\" />\r\n          </div>\r\n          <h3 className=\"text-lg font-medium text-gray-900\">No posts yet</h3>\r\n          <p className=\"mt-1 text-gray-500\">\r\n            {selectedFilter === 'all' \r\n              ? 'Be the first to post and connect with other musicians!' \r\n              : `No ${selectedFilter} posts available. Create one to get started!`}\r\n          </p>\r\n          <div className=\"mt-6\">\r\n            <button \r\n              onClick={() => {/* Navigate to create post */}}\r\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\r\n            >\r\n              Create a Post\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"mt-6 space-y-6\">\r\n          {filteredPosts.map(post => (\r\n            <article key={post.id} className=\"border border-gray-200 rounded-lg overflow-hidden bg-white\">\r\n              {/* Post header */}\r\n              <div className=\"p-4 border-b border-gray-100\">\r\n                <div className=\"flex items-start\">\r\n                  <img \r\n                    src={post.musician.avatar} \r\n                    alt=\"\"\r\n                    className=\"w-12 h-12 rounded-full object-cover mr-3\" \r\n                  />\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <h3 className=\"font-semibold text-gray-900\">{post.musician.name}</h3>\r\n                        <p className=\"text-sm text-gray-500\">@{post.musician.username}</p>\r\n                      </div>\r\n                      <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-800 font-normal\">\r\n                        {post.musician.experience}\r\n                      </Badge>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1 mt-1 text-xs text-gray-500\">\r\n                      <MapPin size={12} />\r\n                      <span>{post.musician.location}</span>\r\n                      <span className=\"mx-1\">•</span>\r\n                      <Clock size={12} />\r\n                      <span>{post.timestamp}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Post content */}\r\n              <div className=\"p-4\">\r\n                <p className=\"text-gray-800 whitespace-pre-line\">{post.content}</p>\r\n                \r\n                {/* Post media */}\r\n                {post.media && (\r\n                  <div className=\"mt-3 rounded-md overflow-hidden\">\r\n                    {post.media.type === 'image' ? (\r\n                      <img \r\n                        src={post.media.url} \r\n                        alt=\"\"\r\n                        className=\"w-full h-auto object-cover\" \r\n                      />\r\n                    ) : post.media.type === 'video' ? (\r\n                      <video \r\n                        src={post.media.url} \r\n                        controls\r\n                        className=\"w-full\"\r\n                      />\r\n                    ) : post.media.type === 'audio' ? (\r\n                      <audio \r\n                        src={post.media.url} \r\n                        controls\r\n                        className=\"w-full\"\r\n                      />\r\n                    ) : null}\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Tags */}\r\n                <div className=\"flex flex-wrap gap-1 mt-3\">\r\n                  {post.musician.instruments.map(instrument => (\r\n                    <Badge key={instrument} variant=\"outline\" className=\"bg-gray-50\">\r\n                      {instrument}\r\n                    </Badge>\r\n                  ))}\r\n                  {post.tags.map(tag => (\r\n                    <Badge key={tag} variant=\"outline\" className=\"text-blue-600 bg-blue-50 border-blue-200\">\r\n                      #{tag}\r\n                    </Badge>\r\n                  ))}\r\n                </div>\r\n                \r\n                <div className=\"mt-4 pt-3 border-t border-gray-100 flex justify-between\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <button \r\n                      onClick={() => handleLike(post.id)}\r\n                      className=\"flex items-center gap-1 text-sm\"\r\n                    >\r\n                      <svg \r\n                        xmlns=\"http://www.w3.org/2000/svg\" \r\n                        width=\"16\" \r\n                        height=\"16\" \r\n                        viewBox=\"0 0 24 24\" \r\n                        fill={post.isLiked ? \"currentColor\" : \"none\"} \r\n                        stroke=\"currentColor\" \r\n                        strokeWidth=\"2\" \r\n                        className={post.isLiked ? \"text-red-500\" : \"text-gray-600\"}\r\n                      >\r\n                        <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\r\n                      </svg>\r\n                      <span className={post.isLiked ? \"text-red-500\" : \"text-gray-600\"}>\r\n                        {post.likes}\r\n                      </span>\r\n                    </button>\r\n                    <button className=\"flex items-center gap-1 text-gray-600 text-sm\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                        <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"></path>\r\n                      </svg>\r\n                      <span>{post.comments}</span>\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  {post.type === 'collaboration' && (\r\n                    <Button variant=\"outline\" size=\"sm\">\r\n                      Join Project\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </article>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}